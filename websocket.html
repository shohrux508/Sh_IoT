<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>WebSocket Example</title>
  </head>
  <body>
    <div id="messages"></div>
    <script>
      // Создаем подключение к WebSocket (замени localhost:8000 на адрес твоего сервера, если необходимо)
      const ws = new WebSocket("ws://127.0.0.1:8000/webtest");
      ws.onopen = () => {
        console.log("WebSocket connection established");
        // Можно отправить сообщение серверу, если нужно
        ws.send("Привет, сервер!");
      };

      ws.onmessage = (event) => {
        console.log("Message received: ", event.data);
        // Добавляем сообщение на страницу
        const messagesDiv = document.getElementById("messages");
        messagesDiv.innerHTML += `<p>${event.data}</p>`;
      };

      ws.onerror = (error) => {
        console.error("WebSocket error: ", error);
      };

      ws.onclose = () => {
        console.log("WebSocket connection closed");
      };
    </script>
  </body>
</html>
